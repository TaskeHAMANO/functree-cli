<?xml version="1.0"?>
<tool id="functree-cli" name="functree" version="0.0.1">
    <description>A command-line based visualization tool for massive-scale omics data</description>
    <command interpreter="node">
#if $args.command == "create"
    ../dist/app.js $args.command -i $input -d $database -o $output -f $args.format 
#else
    ../dist/app.js $args.command -i $input -d $database -o $output -m $args.method
#end if
    </command>
    <inputs>
        <param format="tabular" name="input" type="data" label="Input file"/>
        <param name="database" type="select" label="Reference database">
            <option value="kegg">KEGG BRITE</option>
            <option value="enteropathway">EnteroPathway</option>
        </param>
        <conditional name="args">
            <param name="command" type="select" label="Command">
                <option value="create">Create a visualization</option>
                <option value="stats">Statistical analysis</option>
            </param>
            <when value="create">
                <param name="format" type="select" label="Output image format">
                    <option value="html">HTML (Interactive)</option>
                    <option value="svg">SVG</option>
                </param>
            </when>
            <when value="stats">
                <param name="method" type="select" label="Statistical analysis method">
                    <option value="abundance">Calculate gene abundances</option>
                </param>
            </when>
        </conditional>
    </inputs>
    <outputs>
        <data format="html" name="output">
            <change_format>
                <when input="args.command" value="stats" format="tabular" />
            </change_format>
        </data>
    </outputs>
    <options sanitize="False" refresh="True"/>
    <help>
.. class:: infomark

**Description**

.. image:: http://www.bioviz.tokyo/functree2/image/logo.png
    :height: 125px

functree-cli is a command-line tool, which allows user to visualize, customize, and compute statistical test to understand the biological functionality of their omics data.

functree-cli allows user to map their omics data on to a pre-defined treemap, which is based on the KEGG BRITE (http://www.genome.jp/kegg/brite.html) or EnteroPathway (http://www.enteropathway.org/) database.

This allows user to quickly and comprehensively understand the functional potential of their data, and to develop further hypothesis and scientific insights.
    </help>
    <citations>
        <citation type="doi">10.1371/journal.pone.0126967</citation>
    </citations>

</tool>